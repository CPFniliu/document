# Linux install

## CentOx

### CentOx 7 x64安装

最小安装

### 安装jdk

1. 删除原先jdk
2. 下载解压jdk到linux
3. 配置环境变量
   1. `vim /etc/profile`
   2. 在文件尾部添加文件

      ```shell
      export JAVA_HOME=/usr/java/jdk1.8.0_131
      export JRE_HOME=${JAVA_HOME}/jre
      export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:$CLASSPATH
      export JAVA_PATH=${JAVA_HOME}/bin:${JRE_HOME}/bin
      export PATH=$PATH:${JAVA_PATH}
      ```

   3. 重启电脑永久生效, 或则通过命令`source /etc/profile` 让profile文件立即生效, 但是切换用户之后则失效

4. 验证
   - 使用javac命令，不会出现command not found错误
   - 使用java -version，出现版本为java version "1.8.0_131"
   - echo $PATH，看看自己刚刚设置的的环境变量配置是否都正确

### maven

1. 下载 maven 最新版
2. 配置环境变量 `vi /etc/profile`

   ```shell
   # 根据实际情况添加，注意Path路径
   export JAVA_HOME=/usr/local/java/jdk1.7.0_67
   export M2_HOME=/usr/local/apache-maven-3.3.9
   export PATH=$PATH:$JAVA_HOME/bin:$M2_HOME/bin
   export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JAVA_HOME/jre/lib/rt.jar
   ```

3. 验证
   `source /etc/profile` 测试一下安装是否成功:`mvn -v`

4. 配置镜像资源， 以及本地仓库路径

   打开安装maven的setting文件， 配置一个镜像

   ```xml
   <!-- 阿里云 -->
   <mirror>  
      <id>nexus-aliyun</id>  
      <mirrorOf>central</mirrorOf>
      <name>Nexus aliyun</name>  
      <url>http://maven.aliyun.com/nexus/content/groups/public</url>  
   </mirror>

   <!-- 开源中国 -->
   <mirror>  
      <id>nexus-osc</id>  
      <mirrorOf>*</mirrorOf>  
      <name>Nexus osc</name>  
      <url>http://maven.oschina.net/content/groups/public/</url>  
   </mirror>
   ```

5. 更改 .m2 文件夹

  `<localRepository>/media/cpf/Soft/programing/Resource/m2/repository</localRepository>`

### 设置 root 密码

安装完系统未设置密码时输入

   ```shell
   cpf@cpf-PC:~$ su root
   密码：
   su：鉴定故障
   ```

此时可以通过 输入命令 `sudo passwd root`，然后系统会让你输入新密码并确认，此时的密码就是root新密码。修改成功后，输入命令su root，再输入新的密码就ok了

   ```shell
   cpf@cpf-PC:~$ su passwd
   没有用户“passwd”的密码项
   cpf@cpf-PC:~$ sudo passwd root
   [sudo] cpf 的密码：
   输入新的 UNIX 密码：
   重新输入新的 UNIX 密码：
   passwd：已成功更新密码
   cpf@cpf-PC:~$ su root
   密码：
   root@cpf-PC:/home/cpf# 
   ```

### 挂在磁盘
