### 强引用 & 弱引用 & 软引用 & 虚引用

强引用 : 不会回收
软引用 : 内存充足的情况下不会被回收，内存不充足的情况下才会被回收。能够很好地避OOM异常。
弱引用 : 如果不被外界引用的话, 当垃圾回收机制运行时, 弱引用引用的对象就会被回收掉.
虚引用 : (极不常用) 建立的时候同时传递一个队列进去, 若垃圾回收机制启动时, 则将对象传到队列中去.
```java
    public void testWeakReference() {
        // 若弱引用的变量不被外界引用的时候,就可以被gc回收掉
        WeakReference<Object> softReference = new WeakReference<>(new Object());
        System.out.println(softReference.get());
        System.gc();
        System.out.println(softReference.get());

        // 垃圾回收时不会回收常量池中的内容
        softReference = new WeakReference<>("ghjfg");
        System.out.println(softReference.get());
        System.gc();
        System.out.println(softReference.get());
    }
```



### [时间空间局部性原理](https://blog.csdn.net/u013315650/article/details/56347793)
在CPU访问寄存器时，无论是存取数据抑或存取指令，都趋于聚集在一片连续的区域中，这就被称为局部性原理。
- 时间局部性（temporal locality） ：被引用过一次的存储器位置在未来会被多次引用（通常在循环中）。
- 空间局部性（spatial locality） : 如果一个存储器的位置被引用，那么将来他附近的位置也会被引用。
